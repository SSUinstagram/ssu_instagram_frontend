{"ast":null,"code":"import _regeneratorRuntime from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState,useRef}from\"react\";import styled from\"styled-components\";import{PointColor,PrimaryColor}from\"../../Color/Color\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import Cookies from\"js-cookie\";// 대문자\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPanel=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  padding-top: 100px;\\n  padding-bottom: 80px;\\n  align-items: center;\\n  flex-direction: column;\\n  @media screen and (max-width: 1145px) {\\n    height: 559px;\\n  }\\n\"])));var LoginInputPanel=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  padding: 70px;\\n  box-sizing: border-box;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  font-family: \\\"YonnGodic340\\\";\\n\\n  @media screen and (max-width: 1145px) {\\n    width: 100vw;\\n  }\\n\"])));var SignupButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n  padding: 10px;\\n  width: 400px;\\n  background-color: \",\";\\n  font-family: \\\"YonnGodic340\\\";\\n  color: white;\\n  border-radius: 3px;\\n  border: 1px solid \",\";\\n\\n  @media screen and (max-width: 1145px) {\\n    width: 100%;\\n  }\\n\"])),PointColor,PointColor);var LoginButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n  padding: 10px;\\n  width: 400px;\\n  background-color: \",\";\\n  font-family: \\\"YonnGodic340\\\";\\n  color: white;\\n  border-radius: 3px;\\n  border: 1px solid \",\";\\n\\n  @media screen and (max-width: 1145px) {\\n    width: 100%;\\n  }\\n\"])),PointColor,PointColor);var InputForm=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 400px;\\n  display: flex;\\n  flex-direction: column;\\n  input {\\n    outline: none;\\n    border: none;\\n  }\\n  .email {\\n    margin-top: 1px;\\n    padding-bottom: 10px;\\n    padding-left: 10px;\\n    font-size: 13px;\\n    display: flex;\\n    flex-direction: column;\\n    border: 1px solid black;\\n    border-left: \",\";\\n    color: gray;\\n  }\\n  .password {\\n    margin-top: 1px;\\n    padding-bottom: 10px;\\n    padding-left: 10px;\\n    font-size: 13px;\\n    display: flex;\\n    flex-direction: column;\\n    border: 1px solid black;\\n    border-left: \",\";\\n    color: gray;\\n  }\\n\\n  @media screen and (max-width: 1145px) {\\n    width: 100%;\\n  }\\n\"])),function(props){return props.emailState?\"3px solid\"+PrimaryColor:\"1px solid black\";},function(props){return props.passwordState?\"3px solid\"+PrimaryColor:\" 1px solid black\";});function LoginInput(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),emailState=_useState2[0],setEmailState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),passwordState=_useState4[0],setPasswordState=_useState4[1];var emailRef=useRef(null);var passwordRef=useRef(null);var navigate=useNavigate();var _useState5=useState({email:\"\",password:\"\"}),_useState6=_slicedToArray(_useState5,2),form=_useState6[0],setForm=_useState6[1];var onChangeFormData=function onChangeFormData(e){var _e$target=e.target,value=_e$target.value,type=_e$target.type;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},type,value)));};var callLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var result,id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(form);_context.prev=1;_context.next=4;return axios.get(\"/login\",{params:form});case 4:result=_context.sent;id=result.data.user.id;Cookies.set(\"user-id\",id);console.log(id);navigate(\"/home\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);alert(\"등록된 회원이 없습니다.\");case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function callLogin(_x){return _ref.apply(this,arguments);};}();var callSignUpPage=function callSignUpPage(e){navigate(\"/account\");};var _onClick=function onClick(inputType){if(inputType===\"email\"){emailRef.current.focus();setEmailState(true);setPasswordState(false);}else if(inputType===\"password\"){passwordRef.current.focus();setEmailState(false);setPasswordState(true);}};return/*#__PURE__*/_jsx(LoginPanel,{children:/*#__PURE__*/_jsxs(LoginInputPanel,{children:[/*#__PURE__*/_jsxs(InputForm,{emailState:emailState,passwordState:passwordState,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"email\",onClick:function onClick(){return _onClick(\"email\");},children:[\"\\uC774\\uBA54\\uC77C\\uC8FC\\uC18C\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:onChangeFormData,ref:emailRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",onClick:function onClick(){return _onClick(\"password\");},children:[\"\\uBE44\\uBC00\\uBC88\\uD638\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:onChangeFormData,ref:passwordRef})]})]}),/*#__PURE__*/_jsx(LoginButton,{onClick:callLogin,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(SignupButton,{onClick:callSignUpPage,children:\"\\uC0AC\\uC6A9\\uC790 \\uB4F1\\uB85D\"})]})});}export default LoginInput;","map":{"version":3,"sources":["/home/web29/web_project/client/src/components/main/LoginInput.js"],"names":["React","useState","useRef","styled","PointColor","PrimaryColor","useNavigate","axios","Cookies","LoginPanel","div","LoginInputPanel","SignupButton","button","LoginButton","InputForm","props","emailState","passwordState","LoginInput","setEmailState","setPasswordState","emailRef","passwordRef","navigate","email","password","form","setForm","onChangeFormData","e","target","value","type","callLogin","console","log","get","params","result","id","data","user","set","alert","callSignUpPage","onClick","inputType","current","focus"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { PointColor, PrimaryColor } from \"../../Color/Color\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n// 대문자\n\nconst LoginPanel = styled.div`\n  width: 100%;\n  display: flex;\n  padding-top: 100px;\n  padding-bottom: 80px;\n  align-items: center;\n  flex-direction: column;\n  @media screen and (max-width: 1145px) {\n    height: 559px;\n  }\n`;\n\nconst LoginInputPanel = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 70px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-family: \"YonnGodic340\";\n\n  @media screen and (max-width: 1145px) {\n    width: 100vw;\n  }\n`;\n\nconst SignupButton = styled.button`\n  margin-top: 10px;\n  padding: 10px;\n  width: 400px;\n  background-color: ${PointColor};\n  font-family: \"YonnGodic340\";\n  color: white;\n  border-radius: 3px;\n  border: 1px solid ${PointColor};\n\n  @media screen and (max-width: 1145px) {\n    width: 100%;\n  }\n`;\n\nconst LoginButton = styled.button`\n  margin-top: 10px;\n  padding: 10px;\n  width: 400px;\n  background-color: ${PointColor};\n  font-family: \"YonnGodic340\";\n  color: white;\n  border-radius: 3px;\n  border: 1px solid ${PointColor};\n\n  @media screen and (max-width: 1145px) {\n    width: 100%;\n  }\n`;\n\nconst InputForm = styled.div`\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  input {\n    outline: none;\n    border: none;\n  }\n  .email {\n    margin-top: 1px;\n    padding-bottom: 10px;\n    padding-left: 10px;\n    font-size: 13px;\n    display: flex;\n    flex-direction: column;\n    border: 1px solid black;\n    border-left: ${(props) =>\n      props.emailState ? \"3px solid\" + PrimaryColor : \"1px solid black\"};\n    color: gray;\n  }\n  .password {\n    margin-top: 1px;\n    padding-bottom: 10px;\n    padding-left: 10px;\n    font-size: 13px;\n    display: flex;\n    flex-direction: column;\n    border: 1px solid black;\n    border-left: ${(props) =>\n      props.passwordState ? \"3px solid\" + PrimaryColor : \" 1px solid black\"};\n    color: gray;\n  }\n\n  @media screen and (max-width: 1145px) {\n    width: 100%;\n  }\n`;\nfunction LoginInput() {\n  const [emailState, setEmailState] = useState(false);\n  const [passwordState, setPasswordState] = useState(false);\n  const emailRef = useRef(null);\n  const passwordRef = useRef(null);\n\n  const navigate = useNavigate();\n\n  const [form, setForm] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const onChangeFormData = (e) => {\n    const { value, type } = e.target;\n    setForm({\n      ...form,\n      [type]: value,\n    });\n  };\n\n  const callLogin = async (e) => {\n    console.log(form);\n    try {\n      const result = await axios.get(\"/login\", {\n        params: form,\n      });\n      const { id } = result.data.user;\n      Cookies.set(\"user-id\", id);\n\n      console.log(id);\n\n      navigate(\"/home\");\n    } catch (err) {\n      alert(\"등록된 회원이 없습니다.\");\n    }\n  };\n\n  const callSignUpPage = (e) => {\n    navigate(\"/account\");\n  };\n\n  const onClick = (inputType) => {\n    if (inputType === \"email\") {\n      emailRef.current.focus();\n      setEmailState(true);\n      setPasswordState(false);\n    } else if (inputType === \"password\") {\n      passwordRef.current.focus();\n      setEmailState(false);\n      setPasswordState(true);\n    }\n  };\n  return (\n    <LoginPanel>\n      <LoginInputPanel>\n        <InputForm emailState={emailState} passwordState={passwordState}>\n          <div className=\"email\" onClick={() => onClick(\"email\")}>\n            이메일주소\n            <input\n              type=\"email\"\n              name=\"email\"\n              onChange={onChangeFormData}\n              ref={emailRef}\n            />\n          </div>\n          <div className=\"password\" onClick={() => onClick(\"password\")}>\n            비밀번호\n            <input\n              type=\"password\"\n              name=\"password\"\n              onChange={onChangeFormData}\n              ref={passwordRef}\n            />\n          </div>\n        </InputForm>\n\n        <LoginButton onClick={callLogin}>로그인</LoginButton>\n        <SignupButton onClick={callSignUpPage}>사용자 등록</SignupButton>\n      </LoginInputPanel>\n    </LoginPanel>\n  );\n}\n\nexport default LoginInput;\n"]},"metadata":{},"sourceType":"module"}