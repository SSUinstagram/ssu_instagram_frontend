{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anjonghun/Desktop/4\\u1112\\u1161\\u11A8\\u1102\\u1167\\u11AB 2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110B\\u1170\\u11B8\\u1111\\u1173\\u11AF\\u1106\\u1175\\u11BC/final_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/anjonghun/Desktop/4\\u1112\\u1161\\u11A8\\u1102\\u1167\\u11AB 2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110B\\u1170\\u11B8\\u1111\\u1173\\u11AF\\u1106\\u1175\\u11BC/final_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/anjonghun/Desktop/4\\u1112\\u1161\\u11A8\\u1102\\u1167\\u11AB 2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110B\\u1170\\u11B8\\u1111\\u1173\\u11AF\\u1106\\u1175\\u11BC/final_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/anjonghun/Desktop/4\\u1112\\u1161\\u11A8\\u1102\\u1167\\u11AB 2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110B\\u1170\\u11B8\\u1111\\u1173\\u11AF\\u1106\\u1175\\u11BC/final_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import FollowContent from\"./FollowContent\";import Header from\"../home/Header\";import axios from\"axios\";import Cookies from\"js-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FollowWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\"])));function Follow(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),followingUserList=_useState2[0],setFollowingUserList=_useState2[1];var user_id=Cookies.get(\"user-id\");useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var usersRes,user,tableRes,followList,followingUserList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"follow/user\");case 2:usersRes=_context.sent;user=usersRes.data;_context.next=6;return axios.get(\"follow/table\",{params:{user_id:user_id}});case 6:tableRes=_context.sent;followList=tableRes.data;followingUserList=user.map(function(user){var isFollowedUser=false;followList.forEach(function(followUser){if(followUser.followed_id===user.id)isFollowedUser=true;});return{id:user.id,following:isFollowedUser};});setFollowingUserList(followingUserList);case 10:case\"end\":return _context.stop();}}},_callee);}))();},[]);return/*#__PURE__*/_jsxs(FollowWrapper,{children:[/*#__PURE__*/_jsx(Header,{id:\"header\"}),followingUserList===null||followingUserList===void 0?void 0:followingUserList.map(function(followingUser){return/*#__PURE__*/_jsx(FollowContent,{followingUser:followingUser});})]});}export default Follow;","map":{"version":3,"sources":["/Users/anjonghun/Desktop/4학년 2학기/웹플밍/final_project/client/src/components/follow/Follow.js"],"names":["React","useState","useEffect","styled","FollowContent","Header","axios","Cookies","FollowWrapper","div","Follow","followingUserList","setFollowingUserList","user_id","get","usersRes","user","data","params","tableRes","followList","map","isFollowedUser","forEach","followUser","followed_id","id","following","followingUser"],"mappings":"qqCAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAEA,GAAMC,CAAAA,aAAa,CAAGL,MAAM,CAACM,GAAV,iJAAnB,CAMA,QAASC,CAAAA,MAAT,EAAkB,CAChB,cAAkDT,QAAQ,CAAC,EAAD,CAA1D,wCAAOU,iBAAP,eAA0BC,oBAA1B,eACA,GAAMC,CAAAA,OAAO,CAAGN,OAAO,CAACO,GAAR,CAAY,SAAZ,CAAhB,CACAZ,SAAS,CAAC,UAAM,CACd,wDAAC,iNACwBI,CAAAA,KAAK,CAACQ,GAAN,CAAU,aAAV,CADxB,QACOC,QADP,eAEOC,IAFP,CAEcD,QAAQ,CAACE,IAFvB,uBAIwBX,CAAAA,KAAK,CAACQ,GAAN,CAAU,cAAV,CAA0B,CAC/CI,MAAM,CAAE,CAAEL,OAAO,CAAEA,OAAX,CADuC,CAA1B,CAJxB,QAIOM,QAJP,eAOOC,UAPP,CAOoBD,QAAQ,CAACF,IAP7B,CASON,iBATP,CAS2BK,IAAI,CAACK,GAAL,CAAS,SAACL,IAAD,CAAU,CAC3C,GAAIM,CAAAA,cAAc,CAAG,KAArB,CACAF,UAAU,CAACG,OAAX,CAAmB,SAACC,UAAD,CAAgB,CACjC,GAAIA,UAAU,CAACC,WAAX,GAA2BT,IAAI,CAACU,EAApC,CAAwCJ,cAAc,CAAG,IAAjB,CACzC,CAFD,EAGA,MAAO,CACLI,EAAE,CAAEV,IAAI,CAACU,EADJ,CAELC,SAAS,CAAEL,cAFN,CAAP,CAID,CATyB,CAT3B,CAmBCV,oBAAoB,CAACD,iBAAD,CAApB,CAnBD,uDAAD,KAqBD,CAtBQ,CAsBN,EAtBM,CAAT,CAwBA,mBACE,MAAC,aAAD,yBACE,KAAC,MAAD,EAAQ,EAAE,CAAC,QAAX,EADF,CAEGA,iBAFH,SAEGA,iBAFH,iBAEGA,iBAAiB,CAAEU,GAAnB,CAAuB,SAACO,aAAD,qBACtB,KAAC,aAAD,EAAe,aAAa,CAAEA,aAA9B,EADsB,EAAvB,CAFH,GADF,CAQD,CAED,cAAelB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport FollowContent from \"./FollowContent\";\nimport Header from \"../home/Header\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nconst FollowWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\nfunction Follow() {\n  const [followingUserList, setFollowingUserList] = useState([]);\n  const user_id = Cookies.get(\"user-id\");\n  useEffect(() => {\n    (async () => {\n      const usersRes = await axios.get(\"follow/user\");\n      const user = usersRes.data;\n\n      const tableRes = await axios.get(\"follow/table\", {\n        params: { user_id: user_id },\n      });\n      const followList = tableRes.data;\n\n      const followingUserList = user.map((user) => {\n        let isFollowedUser = false;\n        followList.forEach((followUser) => {\n          if (followUser.followed_id === user.id) isFollowedUser = true;\n        });\n        return {\n          id: user.id,\n          following: isFollowedUser,\n        };\n      });\n      setFollowingUserList(followingUserList);\n    })();\n  }, []);\n\n  return (\n    <FollowWrapper>\n      <Header id=\"header\" />\n      {followingUserList?.map((followingUser) => (\n        <FollowContent followingUser={followingUser} />\n      ))}\n    </FollowWrapper>\n  );\n}\n\nexport default Follow;\n"]},"metadata":{},"sourceType":"module"}