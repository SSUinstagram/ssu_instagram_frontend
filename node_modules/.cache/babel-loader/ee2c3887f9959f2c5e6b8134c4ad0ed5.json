{"ast":null,"code":"var _jsxFileName = \"/Users/anjonghun/Desktop/4\\u1112\\u1161\\u11A8\\u1102\\u1167\\u11AB 2\\u1112\\u1161\\u11A8\\u1100\\u1175/\\u110B\\u1170\\u11B8\\u1111\\u1173\\u11AF\\u1106\\u1175\\u11BC/final_project/client/src/components/home/Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport leftImg from \"../../img/left.png\";\nimport rightImg from \"../../img/right.png\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HashLayout = styled.div`\n  display: flex;\n  flex-direction: row;\n  a {\n  }\n`;\n_c = HashLayout;\nconst CardWrapper = styled.div`\n  width: 300px;\n  display: flex;\n  background-color: #fff8f8;\n  margin: 25px;\n  flex-direction: column;\n  justify-content: center;\n  & > image {\n    width: 250px;\n    height: 250px;\n  }\n  .tag {\n    border: 0;\n    outline: 0;\n    background: none;\n    color: blue;\n  }\n  button {\n    margin-bottom: 30px;\n  }\n`;\n_c2 = CardWrapper;\nconst ImageSlide = styled.div`\n  width: 300px;\n  display: flex;\n  background-color: #fff8f8;\n  flex-direction: column;\n  align-items: center;\n  & > image {\n    width: 250px;\n    height: 250px;\n  }\n`;\n_c3 = ImageSlide;\nconst SlideBtnLayout = styled.div`\n  width: 100px;\n  height: 55px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  .slideBtn {\n    border-radius: 50%;\n    background-color: gray;\n    margin-top: 30px;\n    padding: 10px;\n    margin-right: 5px;\n    &:focus {\n      background-color: #00ff95;\n      box-shadow: 0px 0px 2px red;\n    }\n  }\n`;\n_c4 = SlideBtnLayout;\n\nfunction Card(_ref) {\n  _s();\n\n  let {\n    number,\n    images,\n    author,\n    date,\n    text\n  } = _ref;\n  let hashtag = text.split(/(#[^\\s]+)/g);\n  const [imgArr, setImgArr] = useState([]);\n  const navigator = useNavigate();\n  useEffect(() => {\n    const tempImages = [];\n\n    (async () => {\n      for (let i in images[0]) {\n        if (!!images[0][i]) {\n          if (i !== \"number\") tempImages.push(images[0][i]);\n        }\n      }\n\n      setImgArr(tempImages);\n    })();\n  }, [number]);\n  const hashtagArr = hashtag.filter(str => {\n    if (str !== \"\" && str !== \" \") {\n      return str.includes(\"#\");\n    }\n\n    return false;\n  });\n  const textArr = hashtag.filter(str => {\n    if (str.includes(\"#\")) {\n      return false;\n    }\n\n    return true;\n  });\n  const contents = textArr.join(\"\");\n\n  const imgSlideClick = async e => {\n    const imgNum = e.target.value; //이미지 번호\n\n    let mainImg = document.getElementById(`mainImg${number}`);\n    mainImg.src = `./write/test?image=${images[0][`img${Number(imgNum) + 1}`]}`;\n  };\n\n  const authorClick = author => {\n    navigator(`/home?text=${author}&type=id`, {\n      replace: true\n    });\n  };\n\n  const hashtagClick = str => {\n    let text = str.slice(1);\n    navigator(`/home?text=${text}&type=hashtag`, {\n      replace: true\n    });\n  };\n\n  const editClick = () => {\n    navigator(\"../edit\", {\n      state: {\n        number: number,\n        images: images,\n        id: author,\n        contents: text\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CardWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(ImageSlide, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:8030/write/test?image=${images[0].img1}`,\n        alt: \"alt\",\n        id: `mainImg${number}`,\n        height: \"250px\",\n        width: \"250px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SlideBtnLayout, {\n        children: imgArr.map((images, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"slideBtn\",\n          value: idx,\n          onClick: imgSlideClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"tag\",\n      onClick: () => {\n        authorClick(author);\n      },\n      children: [\"\\uAE00\\uC4F4\\uC774: \", author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uAE00\\uB0B4\\uC6A9: \", contents]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HashLayout, {\n      children: hashtagArr.map(str => /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"tag\",\n        onClick: () => {\n          hashtagClick(str);\n        },\n        children: str\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uC791\\uC131\\uC2DC\\uAC04: \", date]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: editClick,\n      children: \"\\uD3B8\\uC9D1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Card, \"UKhpn1hRuQajWfbmCzn3Uy4lFR0=\", false, function () {\n  return [useNavigate];\n});\n\n_c5 = Card;\nexport default Card;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"HashLayout\");\n$RefreshReg$(_c2, \"CardWrapper\");\n$RefreshReg$(_c3, \"ImageSlide\");\n$RefreshReg$(_c4, \"SlideBtnLayout\");\n$RefreshReg$(_c5, \"Card\");","map":{"version":3,"sources":["/Users/anjonghun/Desktop/4학년 2학기/웹플밍/final_project/client/src/components/home/Card.js"],"names":["React","useEffect","useState","styled","useNavigate","leftImg","rightImg","axios","HashLayout","div","CardWrapper","ImageSlide","SlideBtnLayout","Card","number","images","author","date","text","hashtag","split","imgArr","setImgArr","navigator","tempImages","i","push","hashtagArr","filter","str","includes","textArr","contents","join","imgSlideClick","e","imgNum","target","value","mainImg","document","getElementById","src","Number","authorClick","replace","hashtagClick","slice","editClick","state","id","img1","map","idx"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport leftImg from \"../../img/left.png\";\nimport rightImg from \"../../img/right.png\";\nimport axios from \"axios\";\n\nconst HashLayout = styled.div`\n  display: flex;\n  flex-direction: row;\n  a {\n  }\n`;\n\nconst CardWrapper = styled.div`\n  width: 300px;\n  display: flex;\n  background-color: #fff8f8;\n  margin: 25px;\n  flex-direction: column;\n  justify-content: center;\n  & > image {\n    width: 250px;\n    height: 250px;\n  }\n  .tag {\n    border: 0;\n    outline: 0;\n    background: none;\n    color: blue;\n  }\n  button {\n    margin-bottom: 30px;\n  }\n`;\nconst ImageSlide = styled.div`\n  width: 300px;\n  display: flex;\n  background-color: #fff8f8;\n  flex-direction: column;\n  align-items: center;\n  & > image {\n    width: 250px;\n    height: 250px;\n  }\n`;\n\nconst SlideBtnLayout = styled.div`\n  width: 100px;\n  height: 55px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  .slideBtn {\n    border-radius: 50%;\n    background-color: gray;\n    margin-top: 30px;\n    padding: 10px;\n    margin-right: 5px;\n    &:focus {\n      background-color: #00ff95;\n      box-shadow: 0px 0px 2px red;\n    }\n  }\n`;\n\nfunction Card({ number, images, author, date, text }) {\n  let hashtag = text.split(/(#[^\\s]+)/g);\n  const [imgArr, setImgArr] = useState([]);\n  const navigator = useNavigate();\n\n  useEffect(() => {\n    const tempImages = [];\n    (async () => {\n      for (let i in images[0]) {\n        if (!!images[0][i]) {\n          if (i !== \"number\") tempImages.push(images[0][i]);\n        }\n      }\n      setImgArr(tempImages);\n    })();\n  }, [number]);\n\n  const hashtagArr = hashtag.filter((str) => {\n    if (str !== \"\" && str !== \" \") {\n      return str.includes(\"#\");\n    }\n    return false;\n  });\n\n  const textArr = hashtag.filter((str) => {\n    if (str.includes(\"#\")) {\n      return false;\n    }\n    return true;\n  });\n  const contents = textArr.join(\"\");\n\n  const imgSlideClick = async (e) => {\n    const imgNum = e.target.value; //이미지 번호\n    let mainImg = document.getElementById(`mainImg${number}`);\n    mainImg.src = `./write/test?image=${images[0][`img${Number(imgNum) + 1}`]}`;\n  };\n\n  const authorClick = (author) => {\n    navigator(`/home?text=${author}&type=id`, { replace: true });\n  };\n  const hashtagClick = (str) => {\n    let text = str.slice(1);\n    navigator(`/home?text=${text}&type=hashtag`, { replace: true });\n  };\n\n  const editClick = () => {\n    navigator(\"../edit\", {\n      state: {\n        number: number,\n        images: images,\n        id: author,\n        contents: text,\n      },\n    });\n  };\n\n  return (\n    <CardWrapper>\n      <ImageSlide>\n        <img\n          src={`http://localhost:8030/write/test?image=${images[0].img1}`}\n          alt=\"alt\"\n          id={`mainImg${number}`}\n          height=\"250px\"\n          width=\"250px\"\n        />\n        <SlideBtnLayout>\n          {imgArr.map((images, idx) => (\n            <button\n              className=\"slideBtn\"\n              value={idx}\n              onClick={imgSlideClick}\n            ></button>\n          ))}\n        </SlideBtnLayout>\n      </ImageSlide>\n\n      <button\n        className=\"tag\"\n        onClick={() => {\n          authorClick(author);\n        }}\n      >\n        글쓴이: {author}\n      </button>\n\n      <p>글내용: {contents}</p>\n      <HashLayout>\n        {hashtagArr.map((str) => (\n          <button\n            className=\"tag\"\n            onClick={() => {\n              hashtagClick(str);\n            }}\n          >\n            {str}\n          </button>\n        ))}\n      </HashLayout>\n\n      <p>작성시간: {date}</p>\n      <button onClick={editClick}>편집</button>\n    </CardWrapper>\n  );\n}\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}