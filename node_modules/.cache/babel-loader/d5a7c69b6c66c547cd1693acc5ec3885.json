{"ast":null,"code":"import _regeneratorRuntime from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/web29/web_project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import{useNavigate}from\"react-router-dom\";import leftImg from\"../../img/left.png\";import rightImg from\"../../img/right.png\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HashLayout=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  a {\\n  }\\n\"])));var CardWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 300px;\\n  display: flex;\\n  background-color: #fff8f8;\\n  margin: 25px;\\n  flex-direction: column;\\n  justify-content: center;\\n  & > image {\\n    width: 250px;\\n    height: 250px;\\n  }\\n  .tag {\\n    border: 0;\\n    outline: 0;\\n    background: none;\\n    color: blue;\\n  }\\n  button {\\n    margin-bottom: 30px;\\n  }\\n\"])));var ImageSlide=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 300px;\\n  display: flex;\\n  background-color: #fff8f8;\\n  flex-direction: column;\\n  align-items: center;\\n  & > image {\\n    width: 250px;\\n    height: 250px;\\n  }\\n\"])));var SlideBtnLayout=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100px;\\n  height: 55px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  .slideBtn {\\n    border-radius: 50%;\\n    background-color: gray;\\n    margin-top: 30px;\\n    padding: 10px;\\n    margin-right: 5px;\\n    &:focus {\\n      background-color: #00ff95;\\n      box-shadow: 0px 0px 2px red;\\n    }\\n  }\\n\"])));function Card(_ref){var number=_ref.number,images=_ref.images,author=_ref.author,date=_ref.date,text=_ref.text;var hashtag=text.split(/(#[^\\s]+)/g);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imgArr=_useState2[0],setImgArr=_useState2[1];var navigator=useNavigate();useEffect(function(){var tempImages=[];_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:for(i in images[0]){if(!!images[0][i]){if(i!==\"number\")tempImages.push(images[0][i]);}}setImgArr(tempImages);case 2:case\"end\":return _context.stop();}}},_callee);}))();},[number]);var hashtagArr=hashtag.filter(function(str){if(str!==\"\"&&str!==\" \"){return str.includes(\"#\");}return false;});var textArr=hashtag.filter(function(str){if(str.includes(\"#\")){return false;}return true;});var contents=textArr.join(\"\");var imgSlideClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var imgNum,mainImg;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:imgNum=e.target.value;//이미지 번호\nmainImg=document.getElementById(\"mainImg\".concat(number));mainImg.src=\"http://localhost:8030/write/test?image=\".concat(images[0][\"img\".concat(Number(imgNum)+1)]);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function imgSlideClick(_x){return _ref3.apply(this,arguments);};}();var authorClick=function authorClick(author){window.location.replace(\"/home?text=\".concat(author,\"&type=id\"));};var hashtagClick=function hashtagClick(str){var text=str.slice(1);window.location.replace(\"/home?text=\".concat(text,\"&type=hashtag\"));navigator(\"/home?text=\".concat(text,\"&type=hashtag\"));};var editClick=function editClick(){navigator(\"../edit\",{state:{number:number,images:images,id:author,contents:text}});};return/*#__PURE__*/_jsxs(CardWrapper,{children:[/*#__PURE__*/_jsxs(ImageSlide,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8030/write/test?image=\".concat(images[0].img1),alt:\"alt\",id:\"mainImg\".concat(number),height:\"250px\",width:\"250px\"}),/*#__PURE__*/_jsx(SlideBtnLayout,{children:imgArr.map(function(images,idx){return/*#__PURE__*/_jsx(\"button\",{className:\"slideBtn\",value:idx,onClick:imgSlideClick});})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tag\",onClick:function onClick(){authorClick(author);},children:[\"\\uAE00\\uC4F4\\uC774: \",author]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uAE00\\uB0B4\\uC6A9: \",contents]}),/*#__PURE__*/_jsx(HashLayout,{children:hashtagArr.map(function(str){return/*#__PURE__*/_jsx(\"button\",{className:\"tag\",onClick:function onClick(){hashtagClick(str);},children:str});})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC791\\uC131\\uC2DC\\uAC04: \",date]}),/*#__PURE__*/_jsx(\"button\",{onClick:editClick,children:\"\\uD3B8\\uC9D1\"})]});}export default Card;","map":{"version":3,"sources":["/home/web29/web_project/client/src/components/home/Card.js"],"names":["React","useEffect","useState","styled","useNavigate","leftImg","rightImg","axios","HashLayout","div","CardWrapper","ImageSlide","SlideBtnLayout","Card","number","images","author","date","text","hashtag","split","imgArr","setImgArr","navigator","tempImages","i","push","hashtagArr","filter","str","includes","textArr","contents","join","imgSlideClick","e","imgNum","target","value","mainImg","document","getElementById","src","Number","authorClick","window","location","replace","hashtagClick","slice","editClick","state","id","img1","map","idx"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport leftImg from \"../../img/left.png\";\nimport rightImg from \"../../img/right.png\";\nimport axios from \"axios\";\n\nconst HashLayout = styled.div`\n  display: flex;\n  flex-direction: row;\n  a {\n  }\n`;\n\nconst CardWrapper = styled.div`\n  width: 300px;\n  display: flex;\n  background-color: #fff8f8;\n  margin: 25px;\n  flex-direction: column;\n  justify-content: center;\n  & > image {\n    width: 250px;\n    height: 250px;\n  }\n  .tag {\n    border: 0;\n    outline: 0;\n    background: none;\n    color: blue;\n  }\n  button {\n    margin-bottom: 30px;\n  }\n`;\nconst ImageSlide = styled.div`\n  width: 300px;\n  display: flex;\n  background-color: #fff8f8;\n  flex-direction: column;\n  align-items: center;\n  & > image {\n    width: 250px;\n    height: 250px;\n  }\n`;\n\nconst SlideBtnLayout = styled.div`\n  width: 100px;\n  height: 55px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  .slideBtn {\n    border-radius: 50%;\n    background-color: gray;\n    margin-top: 30px;\n    padding: 10px;\n    margin-right: 5px;\n    &:focus {\n      background-color: #00ff95;\n      box-shadow: 0px 0px 2px red;\n    }\n  }\n`;\n\nfunction Card({ number, images, author, date, text }) {\n  let hashtag = text.split(/(#[^\\s]+)/g);\n  const [imgArr, setImgArr] = useState([]);\n  const navigator = useNavigate();\n\n  useEffect(() => {\n    const tempImages = [];\n    (async () => {\n      for (let i in images[0]) {\n        if (!!images[0][i]) {\n          if (i !== \"number\") tempImages.push(images[0][i]);\n        }\n      }\n      setImgArr(tempImages);\n    })();\n  }, [number]);\n\n  const hashtagArr = hashtag.filter((str) => {\n    if (str !== \"\" && str !== \" \") {\n      return str.includes(\"#\");\n    }\n    return false;\n  });\n\n  const textArr = hashtag.filter((str) => {\n    if (str.includes(\"#\")) {\n      return false;\n    }\n    return true;\n  });\n  const contents = textArr.join(\"\");\n\n  const imgSlideClick = async (e) => {\n    const imgNum = e.target.value; //이미지 번호\n    let mainImg = document.getElementById(`mainImg${number}`);\n    mainImg.src = `http://localhost:8030/write/test?image=${\n      images[0][`img${Number(imgNum) + 1}`]\n    }`;\n  };\n\n  const authorClick = (author) => {\n    window.location.replace(`/home?text=${author}&type=id`);\n  };\n  const hashtagClick = (str) => {\n    let text = str.slice(1);\n    window.location.replace(`/home?text=${text}&type=hashtag`);\n    navigator(`/home?text=${text}&type=hashtag`);\n  };\n\n  const editClick = () => {\n    navigator(\"../edit\", {\n      state: {\n        number: number,\n        images: images,\n        id: author,\n        contents: text,\n      },\n    });\n  };\n\n  return (\n    <CardWrapper>\n      <ImageSlide>\n        <img\n          src={`http://localhost:8030/write/test?image=${images[0].img1}`}\n          alt=\"alt\"\n          id={`mainImg${number}`}\n          height=\"250px\"\n          width=\"250px\"\n        />\n        <SlideBtnLayout>\n          {imgArr.map((images, idx) => (\n            <button\n              className=\"slideBtn\"\n              value={idx}\n              onClick={imgSlideClick}\n            ></button>\n          ))}\n        </SlideBtnLayout>\n      </ImageSlide>\n\n      <button\n        className=\"tag\"\n        onClick={() => {\n          authorClick(author);\n        }}\n      >\n        글쓴이: {author}\n      </button>\n\n      <p>글내용: {contents}</p>\n      <HashLayout>\n        {hashtagArr.map((str) => (\n          <button\n            className=\"tag\"\n            onClick={() => {\n              hashtagClick(str);\n            }}\n          >\n            {str}\n          </button>\n        ))}\n      </HashLayout>\n\n      <p>작성시간: {date}</p>\n      <button onClick={editClick}>편집</button>\n    </CardWrapper>\n  );\n}\n\nexport default Card;\n"]},"metadata":{},"sourceType":"module"}